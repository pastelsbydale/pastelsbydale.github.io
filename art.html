<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Artwork</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" />
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400' rel='stylesheet' type='text/css'>
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
    <link rel="stylesheet" href="animate.min.css">
    <link href="art.css" rel="stylesheet" />
</head>
<body>
    <div class="row" id="main_row">
        <ul id="main-nav">
            <li class="button-holder"><a class="button outline" href="/about.html">Home<span class="lines"></span></a></li>
            <li class="button-holder"><a class="button outline" href=#">Artwork<span class="lines"></span></a></li>
            <li class="button-holder"><a class="button outline" href="/purchasing.html">Purchasing and Inquiries<span class="lines"></span></a></li>
        </ul>

        <div class='main-miniatures-container'>
            <div class="row">
                <h1>Artwork</h1><br />
                <p>
                    The art is sorted by content. Most pieces are matted, and the size indicated includes the board it is mounted on and the matte (if applicable). It is recommend that you get these pieces framed, though all art comes AS IS.
                    If you are interested in a particular piece, please take note of its number before heading over to the "Purchasing and Inquiries" page. Prices listed are non-negotiable.
                </p>
            </div>
            <div class="row">
                <h2>Wildlife</h2>
            </div>
            <div class="row">
                <div class="column">
                    <img index="0" src="/Images/Cranes.jpg" alt="Cranes" /><br /><p>Number: 2<br />28" x 40"<br />Matted<br />Price: $500</p>
                </div>
            </div>
            <div class="row">
                <h2>Wild West</h2>
            </div>
            <div class="row">
                <div class="column">
                    <img index="1" src="/Images/John_Wayne.jpg" alt="John Wayne"><p>Number: 4<br />28" x 40"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="2" src="/Images/John_Wayne_True_Grit.jpg" alt="John Wayne"><p>Number: 3<br />29" x 40"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="3" src="/Images/Jeff_Bridges_True_Grit.jpg" alt="Jeff Bridges"><p>Number: 5<br />29.5" x 40"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="4" src="/Images/2_Western_Guys.jpg" alt="2 Western Guys"><p>Number: 13<br />29.5" x 36"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="5" src="/Images/John_Wayne_Blue.jpg" alt="John Wayne in Blue"><p>Number: 7<br />30" x 43"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="6" src="/Images/John_Wayne_With_Dog.jpg" alt="John Wayne with Dog"><p>Number: 17<br />30.5" x 40"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="7" src="/Images/John_Wayne_2.jpg" alt="John Wayne" class="horizontal-image"><p>Number: 6<br />38" x 28"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="8" src="/Images/3_Western_Guys.jpg" alt="3 Western Guys" class="horizontal-image"><p>Number: 14<br />35.5" x 26.5"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="9" src="/Images/Gunslingers.jpg" alt="3 Western Guys" class="horizontal-image"><p>Number: 15<br />39" x 26.5"<br />Matted<br />Price: $500</p>
                </div>

            </div>
            <div class="row">
                <h2>Portraits and Landscapes</h2>
            </div>
            <div class="row">
                <div class="column">
                    <img index="10" src="/Images/Texaco.jpg" alt="Texaco"><p>Number: 1<br />29.5" x 39.5"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="11" src="/Images/Construction_Workers.jpg" alt="Construction Workers"><p>Number: 22<br />31" x 35"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="12" src="/Images/Dame_Her_Dog.jpg" alt="Dame and Her Dog"><p>Number: 23<br />29" x 35"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="13" src="/Images/Family_With_Dog.jpg" alt="Family and Dog"><p>Number: 20<br />30" x 37"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="14" src="/Images/Fishermen_Boat_Sunset.jpg" alt="Fishermen Boat Sunset"><p>Number: 19<br />30" x 37"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="15" src="/Images/House_2_People.jpg" alt="House with 2 People"><p>Number: 11<br />30" x 35.5"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="16" src="/Images/Lunch_DriveIn.jpg" alt="Lunch at the Drive In"><p>Number: 21<br />30" x 38"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="17" src="/Images/Kids_Sledding.jpg" alt="Kids Sledding" class="horizontal-image"><p>Number: 12<br />38" x 30"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="18" src="/Images/Beechnut_Tobacco.jpg" alt="Beechnut Tobacco" class="horizontal-image"><p>Number: 10<br />37" x 28"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="19" src="/Images/Old_Man_Rocking_Chair.jpg" alt="Old Man in a Rocking Chair" class="horizontal-image"><p>Number: 18<br />38.5" x 30.5"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="20" src="/Images/Woman_Reading.jpg" alt="Woman Reading" class="horizontal-image"><p>Number: 9<br />36" x 29"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="21" src="/Images/Young_Boys.jpg" alt="Young Boys"><p>Number: 8<br />30" x 38"<br />Matted<br />Price: $500</p>
                </div>
                <div class="column">
                    <img index="22" src="/Images/3_Kids_Car.jpg" alt="3 Kids" class="horizontal-image"><p>Number: 33<br />36.5" x 29.5"<br />Price: $500</p>
                </div>
            </div>
        </div>

        <div id='modal' class='modal-container'>
            <span class="close">&times;</span>
            <div class="preview-container">
                <div id="arrow-prev" class='arrow arrow-left'>&lt;</div>
                <img id="img-preview" class="preview" alt="">
                <div id="arrow-next" class='arrow arrow-right'>&gt;</div>
            </div>

            <div class="modal-miniatures-container">
                <!-- Miniatures appear via JS -->
            </div>


        </div>
    </div>
</body>
</html>
<script>
    const mainMiniatures = document.getElementsByClassName("main-miniatures-container")[0];
    const images = mainMiniatures.querySelectorAll("img");

    const modal = document.getElementById("modal");
    const imgPreview = document.getElementById("img-preview");

    const closeBtn = document.getElementsByClassName("close")[0];

    const modalMiniatures = document.getElementsByClassName("modal-miniatures-container")[0];

    let currentImgIndex;

    const arrowPrev = document.getElementById("arrow-prev");
    arrowPrev.addEventListener("click", slideDown);

    const arrowNext = document.getElementById("arrow-next");
    arrowNext.addEventListener("click", slideUp);

    mainMiniatures.addEventListener("click", openModal);

    closeBtn.addEventListener('click', closeModal);

    copyMiniaturesToModal();

    function openModal(event) {
        modal.style.display = "flex";
        const clickedImg = event.target;
        const index = parseInt(clickedImg.getAttribute("index"));
        previewImg(index);
    }

    function closeModal() {
        modal.style.display = "none";
    };

    function slideDown() {
        const newIndex = currentImgIndex - 1;
        if (newIndex < 0) {
            previewImg(images.length - 1);
        } else {
            previewImg(newIndex);
        }
    };

    function slideUp() {
        const newIndex = currentImgIndex + 1;
        console.log(newIndex);
        if (newIndex === images.length) {
            previewImg(0);
        } else {
            previewImg(newIndex);
        }

    };

    function previewImg(index) {
        console.log(index);
        currentImgIndex = index;
        imgPreview.src = images[index].src;
        imgPreview.alt = images[index].alt;
    };

    function copyMiniaturesToModal() {
        for (let i = 0; i < images.length; i++) {
            const img = images[i];
            const imgClone = img.cloneNode(true);
            console.log('klon', imgClone);
            imgClone.addEventListener("click", (event) => {
                const clickedImg = event.target;
                const index = parseInt(clickedImg.getAttribute("index"));
                previewImg(index);
            });
            modalMiniatures.appendChild(imgClone);
        }
    };
</script>